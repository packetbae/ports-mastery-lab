<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Secure vs Insecure — Ports Mastery</title>
<meta name="color-scheme" content="light dark"/>
<style>
  :root{--bg:#f0f0f2;--fg:#0f1115;--muted:#6b6f76;--card:#ffffff;--accent:#0a84ff;--radius:18px;--shadow:0 10px 28px rgba(0,0,0,.08);--border:1px solid rgba(0,0,0,.06);--ok:#1d9f49;--bad:#ff3b30}
  @media (prefers-color-scheme: dark){:root{--bg:#121416;--fg:#f4f5f7;--muted:#9aa0a6;--card:#1a1c1f;--accent:#3b9cff;--border:1px solid rgba(255,255,255,.08)}}
  *{box-sizing:border-box} html,body{height:100%}
  body{margin:0;background:var(--bg);color:var(--fg);font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial}
  header{position:sticky;top:0;background:var(--bg);border-bottom:var(--border);z-index:10}
  .nav{max-width:1120px;margin:0 auto;padding:14px 20px;display:flex;gap:10px;align-items:center}
  .brand{display:flex;align-items:center;gap:10px;font-weight:700}
  .dot{width:10px;height:10px;border-radius:50%;background:var(--accent);box-shadow:0 0 0 4px rgba(10,132,255,.18)}
  .spacer{flex:1}
  .btn{background:transparent;border:var(--border);border-radius:999px;padding:8px 14px;color:inherit;text-decoration:none;font-weight:600;cursor:pointer}
  main{max-width:1120px;margin:0 auto;padding:32px 20px 80px}
  h1{font-size:32px;margin:6px 0 10px}
  .lead{margin:0 0 14px;color:var(--muted)}
  .panel{border:var(--border);background:var(--card);border-radius:20px;padding:18px;box-shadow:var(--shadow)}
  .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:12px}
  .card{border:var(--border);background:var(--card);border-radius:12px;padding:14px}
  .row{display:flex;gap:8px;flex-wrap:wrap;margin-top:8px}
  .choice{border:var(--border);border-radius:999px;padding:8px 12px;cursor:pointer;display:flex;align-items:center;gap:6px}
  .choice input{accent-color:var(--accent)}
  .choice.bad{border-color:var(--bad);background:rgba(255,59,48,.1)}
  .choice.ok{border-color:var(--ok);background:rgba(29,159,73,.1)}
  .exp{margin-top:8px;color:var(--muted);font-size:13px}
  .result{font-weight:800;margin-top:10px}
  .ok{color:var(--ok)} .no{color:var(--bad)}
  footer{max-width:1120px;margin:40px auto 60px;padding:0 20px;color:var(--muted);font-size:13px}
</style>
</head>
<body>
<header>
  <div class="nav">
    <a class="btn" href="../index.html" aria-label="Back">←</a>
    <div class="brand"><span class="dot"></span><span>Secure vs Insecure</span></div>
    <span class="spacer"></span>
    <button class="btn" id="reveal">Reveal</button>
    <button class="btn" id="check">Check</button>
    <button class="btn" id="shuffle">Shuffle</button>
  </div>
</header>

<main>
  <h1>Secure vs Insecure</h1>
  <p class="lead">Choose the secure replacement for each situation. After checking, you’ll see which are right (green), wrong (red), and a short explanation.</p>

  <section class="panel">
    <div class="grid" id="qgrid"></div>
    <div class="result" id="result"></div>
  </section>
</main>

<footer>© <span id="year"></span> packetbae — All Rights Reserved</footer>

<script>
const ITEMS = [
  { prompt:"Replace Telnet for router admin", insecure:{svc:"Telnet",port:23}, secure:{svc:"SSH",port:22}, why:"SSH provides encrypted auth and session integrity; Telnet is plaintext and exposes creds." },
  { prompt:"Secure web storefront", insecure:{svc:"HTTP",port:80}, secure:{svc:"HTTPS",port:443}, why:"HTTPS uses TLS for encryption and authenticity; HTTP is cleartext and vulnerable to MITM." },
  { prompt:"Directory queries with encryption", insecure:{svc:"LDAP",port:389}, secure:{svc:"LDAPS",port:636}, why:"LDAPS wraps LDAP in TLS from connection start; 389 without TLS leaks credentials." },
  { prompt:"POP mail retrieval encrypted", insecure:{svc:"POP3",port:110}, secure:{svc:"POP3S",port:995}, why:"POP3S encrypts credentials and mail in transit; POP3 is cleartext." },
  { prompt:"IMAP mailbox sync encrypted", insecure:{svc:"IMAP",port:143}, secure:{svc:"IMAPS",port:993}, why:"IMAPS encrypts the entire session; IMAP on 143 is plaintext unless upgraded." },
  { prompt:"Client mail submission with TLS", insecure:{svc:"SMTP (no auth)",port:25}, secure:{svc:"Submission (SMTP)",port:587}, why:"Port 587 expects auth and STARTTLS for client submission; 25 is for MTA relay and often unauthenticated." },
  { prompt:"File transfer hardening", insecure:{svc:"FTP",port:21}, secure:{svc:"FTPS",port:990}, why:"FTPS uses TLS to protect credentials/data; FTP sends both in clear." },
  { prompt:"Remote desktop hardening", insecure:{svc:"VNC",port:5900}, secure:{svc:"RDP",port:3389}, why:"RDP supports TLS/NLA and better access control; standard VNC is typically unencrypted." },
  { prompt:"Directory bind upgrade option", insecure:{svc:"LDAP (clear)",port:389}, secure:{svc:"LDAP with STARTTLS",port:389}, why:"STARTTLS upgrades the same 389 connection to TLS without switching ports." },
  { prompt:"DNS privacy (resolver to upstream)", insecure:{svc:"DNS",port:53}, secure:{svc:"DoT",port:853}, why:"DNS over TLS encrypts resolver traffic to prevent eavesdropping and tampering." }
];

function render(items){
  const qgrid=document.getElementById('qgrid');
  qgrid.innerHTML = items.map((it,i)=>`
    <div class="card">
      <div style="font-weight:600">${i+1}) ${it.prompt}</div>
      <div class="row" role="radiogroup" aria-label="${it.prompt}">
        <label class="choice" id="c${i}-insecure"><input type="radio" name="q${i}" value="insecure"> ${it.insecure.svc} (${it.insecure.port})</label>
        <label class="choice" id="c${i}-secure"><input type="radio" name="q${i}" value="secure"> ${it.secure.svc} (${it.secure.port})</label>
      </div>
      <div class="exp" id="e${i}"></div>
    </div>
  `).join('');
}

function check(){
  let correct=0;
  ITEMS.forEach((it,i)=>{
    const choiceSecure=document.getElementById(`c${i}-secure`);
    const choiceInsecure=document.getElementById(`c${i}-insecure`);
    const exp=document.getElementById(`e${i}`);
    choiceSecure.classList.remove('ok','bad');
    choiceInsecure.classList.remove('ok','bad');
    exp.textContent='';

    const el=document.querySelector(`input[name="q${i}"]:checked`);
    if(el){
      if(el.value==="secure"){ correct++; choiceSecure.classList.add('ok'); exp.textContent = `${it.secure.svc} (${it.secure.port}) is correct — ${it.why}`; }
      else { choiceInsecure.classList.add('bad'); choiceSecure.classList.add('ok'); exp.textContent = `${it.insecure.svc} (${it.insecure.port}) is not secure. Use ${it.secure.svc} (${it.secure.port}). ${it.why}`; }
    }
  });
  const res=document.getElementById('result');
  res.textContent = `${correct}/${ITEMS.length} correct`;
  res.className = 'result ' + (correct===ITEMS.length? 'ok':'no');
}

function reveal(){
  ITEMS.forEach((it,i)=>{
    const radio=document.querySelector(`input[name="q${i}"][value="secure"]`);
    if(radio) radio.checked=true;
  });
  check();
}

function shuffle(){
  for(let i=ITEMS.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[ITEMS[i],ITEMS[j]]=[ITEMS[j],ITEMS[i]]}
  render(ITEMS);
  document.getElementById('result').textContent="";
}

document.getElementById('check').addEventListener('click',check);
document.getElementById('reveal').addEventListener('click',reveal);
document.getElementById('shuffle').addEventListener('click',shuffle);
render(ITEMS);
document.getElementById('year').textContent=new Date().getFullYear();
</script>
</body>
</html>
